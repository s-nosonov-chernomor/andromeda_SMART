debug:
  enabled: true
  log_reads: true
  summary_every_s: 20
  trace_frames: true
mqtt:
  host: 127.0.0.1
  port: 1883
  base_topic: /devices
  qos: 0
  retain: false
  client_id: uspd-modbus-gw
db:
  url: sqlite:///./data/data.db
history:
  max_rows: 50000
  ttl_days: 15
  cleanup_every: 500
backups:
  dir: ./data/backups
  keep: 10
serial:
  echo: false
addressing:
  normalize: false
service:
  unit: agent.service
  restart_cmd: ''
andromeda:
  restart_cmd: /usr/local/bin/restart-andromeda.sh
current:
  touch_read_every_s: 3
polling:
  interval_ms: 500
  jitter_ms: 120
  backoff_ms: 500
  max_errors_before_backoff: 5
  port_retry_backoff_s: 5
  batch_read:
    enabled: true
    max_bits: 64
    max_registers: 60
lines:
- name: line1
  device: COM4
  baudrate: 115200
  timeout: 0.1
  parity: N
  stopbits: 1
  port_retry_backoff_s: 1
  nodes:
  - unit_id: 44
    object: object1_io2
    params:
    - name: q1
      register_type: coil
      address: 1001
      scale: 1.0
      mode: r
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: site1/room2/io/q1
      error_state: 0
      display_error_text: Что-то не так работает как надо
      mqttROM: Chnl1
    - name: q8
      register_type: coil
      address: 1002
      scale: 1.0
      mode: r
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: site1/room2/io/q3
      error_state: 1
      display_error_text: Снова где то кто то что-то не так сделал походу
      mqttROM: Chnl4
    - name: d3
      register_type: coil
      address: 1003
      scale: 1.0
      mode: r
      publish_mode: on_change_and_interval
      publish_interval_ms: 10000
      topic: null
    num_object: 1
  - unit_id: 29
    object: rele2
    params:
    - name: r1
      register_type: discrete
      address: 97
      scale: 1.0
      mode: r
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: null
    - name: r2
      register_type: discrete
      address: 96
      scale: 1.0
      mode: r
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: null
    num_object: 2
  - unit_id: 165
    object: 1_2по14
    params: []
    num_object: 3
  - unit_id: 224
    object: счетчик
    params:
    - name: время работы
      register_type: holding
      address: 110
      scale: 1.0
      mode: rw
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: null
      error_state: 1
  - unit_id: 165
    object: счетчик
    params:
    - name: время работы
      register_type: holding
      address: 110
      scale: 1.0
      mode: rw
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: null
      error_state: 1
  - unit_id: 140
    object: счетчик
    params: []
  - unit_id: 98
    object: счетчик
    params: []
  - unit_id: 82
    object: счетчик
    params: []
  - unit_id: 107
    object: счетчик
    params: []
  - unit_id: 43
    object: счетчик
    params: []
  - unit_id: 101
    object: счетчик
    params:
    - name: время работы
      register_type: holding
      address: 110
      scale: 1.0
      mode: rw
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: null
      error_state: 1
  - unit_id: 29
    object: счетчик
    params:
    - name: время работы
      register_type: holding
      address: 110
      scale: 1.0
      mode: rw
      publish_mode: on_change_and_interval
      publish_interval_ms: 5000
      topic: null
      error_state: 1
